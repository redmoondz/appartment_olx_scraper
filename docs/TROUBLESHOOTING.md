# ‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º–∞: –î–∞–Ω–Ω—ã–µ –Ω–µ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è

## üîç –ë—ã—Å—Ç—Ä–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ (1 –º–∏–Ω—É—Ç–∞)

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∑–∞–ø—É—Å–∫–∞
```bash
tail -50 logs/olx_scraper_*.log | grep "Enrich data"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
Enrich data: True, Fetch phones: False
```

‚ùå **–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ `Enrich data: False`** - —ç—Ç–æ –ø—Ä–∏—á–∏–Ω–∞ –ø—Ä–æ–±–ª–µ–º—ã!

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
```bash
python main.py stats
```

**–î–æ–ª–∂–Ω–æ –±—ã—Ç—å:**
- ‚úÖ –í—Å–µ –ø–æ–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω—ã (100%)

‚ùå **–ï—Å–ª–∏ –º–Ω–æ–≥–æ –ø—É—Å—Ç—ã—Ö –ø–æ–ª–µ–π** - –¥–∞–Ω–Ω—ã–µ —Å–æ–±—Ä–∞–Ω—ã –±–µ–∑ –æ–±–æ–≥–∞—â–µ–Ω–∏—è

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –¥–∞–Ω–Ω—ã–µ (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)

```bash
# 1. –ë—ç–∫–∞–ø —Å—Ç–∞—Ä–æ–≥–æ –∫–µ—à–∞
mv cache/apartments_cache.csv cache/apartments_cache_backup.csv

# 2. –°–æ–±—Ä–∞—Ç—å –∑–∞–Ω–æ–≤–æ –° –û–ë–û–ì–ê–©–ï–ù–ò–ï–ú (–±–µ–∑ --no-details!)
python main.py scrape -p 10

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
python main.py stats
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –Ω–æ–≤—ã–µ —Å –æ–±–æ–≥–∞—â–µ–Ω–∏–µ–º

```bash
# –°–æ–±—Ä–∞—Ç—å —Ç–æ–ª—å–∫–æ –Ω–æ–≤—ã–µ –∫–≤–∞—Ä—Ç–∏—Ä—ã –° –æ–±–æ–≥–∞—â–µ–Ω–∏–µ–º
python main.py scrape -n

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
python main.py stats
```

---

## üö´ –ß–ê–°–¢–´–ï –û–®–ò–ë–ö–ò

### ‚ùå –û–®–ò–ë–ö–ê #1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `--no-details`
```bash
# –ù–ï –î–ï–õ–ê–¢–¨ –¢–ê–ö:
python main.py scrape --no-details  # ‚Üê –ù–µ–ø–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ!
```

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏–µ:** 
- ‚ùå –ù–µ—Ç –æ–ø–∏—Å–∞–Ω–∏—è
- ‚ùå –ù–µ—Ç —Ç–µ–≥–æ–≤
- ‚ùå –ù–µ—Ç —ç—Ç–∞–∂–∞
- ‚ùå –ù–µ—Ç —Ñ–æ—Ç–æ
- ‚ùå –ù–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

### ‚ùå –û–®–ò–ë–ö–ê #2: –ù–µ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –ª–æ–≥–∏
```bash
# –í–°–ï–ì–î–ê –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ, —á—Ç–æ –≤ –ª–æ–≥–∞—Ö:
grep "Enrich data: True" logs/olx_scraper_*.log
```

### ‚ùå –û–®–ò–ë–ö–ê #3: –ù–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `-n` –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
```bash
# –ü–†–ê–í–ò–õ–¨–ù–û (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–µ–∑ –ø–µ—Ä–µ—Å–±–æ—Ä–∞ –≤—Å–µ–≥–æ):
python main.py scrape -n

# –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û (–ø–µ—Ä–µ—Å–±–æ—Ä –≤—Å–µ–≥–æ –∫–∞–∂–¥—ã–π —Ä–∞–∑):
mv cache/apartments_cache.csv cache/old.csv
python main.py scrape -p 50
```

---

## ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–´–ï –ö–û–ú–ê–ù–î–´

### –ü–µ—Ä–≤—ã–π —Å–±–æ—Ä (–ø–æ–ª–Ω–∞—è –±–∞–∑–∞):
```bash
python main.py scrape -p 20
```

### –†–µ–≥—É–ª—è—Ä–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (—Ç–æ–ª—å–∫–æ –Ω–æ–≤—ã–µ):
```bash
python main.py scrape -n
```

### –ë—ã—Å—Ç—Ä—ã–π —Ä–µ–∂–∏–º (–∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ—Å—Ç—å 8):
```bash
python main.py scrape -p 10 -a 8
```

### –° —Ç–µ–ª–µ—Ñ–æ–Ω–∞–º–∏ (–º–µ–¥–ª–µ–Ω–Ω–µ–µ):
```bash
python main.py scrape -p 5 --fetch-phones
```

---

## üîß –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä—Å–∏–Ω–≥–∞ –≤—Ä—É—á–Ω—É—é

–ï—Å–ª–∏ —Å–æ–º–Ω–µ–≤–∞–µ—Ç–µ—Å—å, —á—Ç–æ –∫–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç:

```bash
python3 << 'EOF'
import asyncio
from bs4 import BeautifulSoup
import aiohttp

async def test():
    url = "https://www.olx.ua/d/uk/obyavlenie/–í–°–¢–ê–í–¨–¢–ï_URL_–ü–†–û–ë–õ–ï–ú–ù–û–ô_–°–¢–†–ê–ù–ò–¶–´"
    
    headers = {
        'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64; rv:109.0) Gecko/20100101 Firefox/115.0',
    }
    
    async with aiohttp.ClientSession(headers=headers) as session:
        async with session.get(url) as resp:
            html = await resp.text()
            soup = BeautifulSoup(html, 'lxml')
            
            # –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–ø–∏—Å–∞–Ω–∏—è
            desc = soup.find('div', class_='css-19duwlz')
            print(f"‚úÖ –û–ø–∏—Å–∞–Ω–∏–µ –Ω–∞–π–¥–µ–Ω–æ: {desc is not None}")
            if desc:
                print(f"   –¢–µ–∫—Å—Ç: {desc.get_text(strip=True)[:100]}...")
            
            # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
            params_container = soup.find('div', {'data-testid': 'ad-parameters-container', 'class': 'css-6zsv65'})
            print(f"‚úÖ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤: {params_container is not None}")
            if params_container:
                params = params_container.find_all('p', class_='css-13x8d99')
                print(f"   –ù–∞–π–¥–µ–Ω–æ —Ç–µ–≥–æ–≤: {len(params)}")
                for p in params[:3]:
                    print(f"   - {p.get_text(strip=True)}")

asyncio.run(test())
EOF
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
‚úÖ –û–ø–∏—Å–∞–Ω–∏–µ –Ω–∞–π–¥–µ–Ω–æ: True
   –¢–µ–∫—Å—Ç: –°–¥–∞–º –æ–¥–Ω–æ–∫–æ–º–Ω–∞—Ç–Ω—É—é –∫–≤–∞—Ä—Ç–∏—Ä—É...
‚úÖ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤: True
   –ù–∞–π–¥–µ–Ω–æ —Ç–µ–≥–æ–≤: 9
   - –ë—ñ–∑–Ω–µ—Å
   - –ü–æ–≤–µ—Ä—Ö: 2
   - –ü–æ–≤–µ—Ä—Ö–æ–≤—ñ—Å—Ç—å: 3
```

---

## üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –¥–∞–Ω–Ω—ã—Ö

### –°–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏:
```bash
python3 << 'EOF'
import pandas as pd

df = pd.read_csv('cache/apartments_cache.csv')

print(f"–í—Å–µ–≥–æ –∑–∞–ø–∏—Å–µ–π: {len(df)}\n")

fields = ['description', 'tags', 'floor', 'photos']
for field in fields:
    if field in df.columns:
        filled = df[field].notna().sum()
        percent = filled / len(df) * 100
        status = "‚úÖ" if percent > 90 else "‚ö†Ô∏è" if percent > 50 else "‚ùå"
        print(f"{status} {field:15} {filled}/{len(df)} ({percent:.1f}%)")
EOF
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç (100% –æ–±–æ–≥–∞—â–µ–Ω–∏–µ):**
```
–í—Å–µ–≥–æ –∑–∞–ø–∏—Å–µ–π: 149

‚úÖ description      149/149 (100.0%)
‚úÖ tags             149/149 (100.0%)
‚úÖ floor            149/149 (100.0%)
‚úÖ photos           149/149 (100.0%)
```

---

## üÜò –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç

### 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã (–º–æ–≥—É—Ç –∏–∑–º–µ–Ω–∏—Ç—å—Å—è –Ω–∞ —Å–∞–π—Ç–µ):

**–¢–µ–∫—É—â–∏–µ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã (–æ–∫—Ç—è–±—Ä—å 2025):**
- –û–ø–∏—Å–∞–Ω–∏–µ: `div.css-19duwlz`
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤: `div[data-testid="ad-parameters-container"].css-6zsv65`
- –¢–µ–≥–∏: `p.css-13x8d99`
- –ü—Ä–æ—Å–º–æ—Ç—Ä—ã: `span.css-16uueru`

### 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å OLX:
```bash
curl -I https://www.olx.ua/
```

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
pip install -r requirements.txt --upgrade
```

### 4. –û—á–∏—Å—Ç–∏—Ç–µ –∫–µ—à –∏ –ø–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ:
```bash
python main.py clear-cache
python main.py scrape -p 5
```

---

## üìù –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫

–ü–µ—Ä–µ–¥ –æ–±—Ä–∞—â–µ–Ω–∏–µ–º –∑–∞ –ø–æ–º–æ—â—å—é, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

- [ ] –õ–æ–≥ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç `Enrich data: True`
- [ ] –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ñ–ª–∞–≥ `--no-details`
- [ ] –ò–Ω—Ç–µ—Ä–Ω–µ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ
- [ ] OLX.ua –¥–æ—Å—Ç—É–ø–µ–Ω
- [ ] –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- [ ] –¢–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç –ø–∞—Ä—Å–∏–Ω–≥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –ø–æ–ª—è

---

**–ï—Å–ª–∏ –≤—Å—ë —ç—Ç–æ –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ –∏ –ø—Ä–æ–±–ª–µ–º–∞ –æ—Å—Ç–∞—ë—Ç—Å—è - –≤–æ–∑–º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ HTML –Ω–∞ —Å–∞–π—Ç–µ OLX.**

–í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å —Å–µ–ª–µ–∫—Ç–æ—Ä—ã –≤ —Ñ–∞–π–ª–µ `src/core/olx_api.py`.
