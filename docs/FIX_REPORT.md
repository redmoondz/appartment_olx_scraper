# –û—Ç—á—ë—Ç –æ–± –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º—ã —Å –æ–±–æ–≥–∞—â–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö

**–î–∞—Ç–∞:** 2 –æ–∫—Ç—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–ï–®–ï–ù–û

## üìã –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–æ–±—â–∏–ª, —á—Ç–æ –ø–æ–ª—è `description`, `tags`, `photos`, `floor`, `total_floors` —Å–æ–±–∏—Ä–∞—é—Ç—Å—è –Ω–µ —Å–æ –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü, —Ö–æ—Ç—è —Å–µ–ª–µ–∫—Ç–æ—Ä—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ.

### –ê–Ω–∞–ª–∏–∑ –∫–µ—à–∞ –ø–æ–∫–∞–∑–∞–ª:
- **–í—Å–µ–≥–æ –∑–∞–ø–∏—Å–µ–π:** 301
- **–ë–µ–∑ –æ–ø–∏—Å–∞–Ω–∏—è:** 253 (84.1%)
- **–° –æ–ø–∏—Å–∞–Ω–∏–µ–º:** 48 (15.9%)

## üîç –†–∞—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ HTML-—Å—Ç—Ä—É–∫—Ç—É—Ä—ã
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª Firecrawl –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü OLX:
- ‚úÖ **–ü—Ä–æ–±–ª–µ–º–Ω–∞—è** —Å—Ç—Ä–∞–Ω–∏—Ü–∞: HTML —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ, —Å–µ–ª–µ–∫—Ç–æ—Ä—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ
- ‚úÖ **–†–∞–±–æ—á–∞—è** —Å—Ç—Ä–∞–Ω–∏—Ü–∞: –ò–¥–µ–Ω—Ç–∏—á–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ HTML

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞
```python
# –ö–æ–¥ fetch_detail_page_data —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ:
params_container = soup.find('div', {'data-testid': 'ad-parameters-container', 'class': 'css-6zsv65'})
params = params_container.find_all('p', class_='css-13x8d99')
desc_elem = soup.find('div', class_='css-19duwlz')
```

### 3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä—Å–∏–Ω–≥–∞
–ü—Ä—è–º–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–∫–∞–∑–∞–ª–æ: **–∫–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ 100%!**

```python
Description found: True
Description text: –°–¥–∞–º –æ–¥–Ω–æ–∫–æ–º–Ω–∞—Ç–Ω—É—é —Å–º–∞—Ä—Ç –∫–≤–∞—Ä—Ç–∏—Ä—É...
Parameters container found: True
Found 9 parameter tags
  - –ë—ñ–∑–Ω–µ—Å
  - –ü–æ–≤–µ—Ä—Ö: 2
  - –ü–æ–≤–µ—Ä—Ö–æ–≤—ñ—Å—Ç—å: 3
```

## üéØ –ö–æ—Ä–Ω–µ–≤–∞—è –ø—Ä–∏—á–∏–Ω–∞

**–ê–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤ –≤—ã—è–≤–∏–ª:**

```
21:42:45 - Enrich data: False, Fetch phones: False  # 253 –∑–∞–ø–∏—Å–∏ –ë–ï–ó –æ–±–æ–≥–∞—â–µ–Ω–∏—è
21:43:00 - Enrich data: True, Fetch phones: False   # 48 –∑–∞–ø–∏—Å–µ–π –° –æ–±–æ–≥–∞—â–µ–Ω–∏–µ–º
```

### –í—ã–≤–æ–¥:
- ‚ùå **–≠—Ç–æ –ù–ï –±–∞–≥ –∫–æ–¥–∞** - –∫–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ **–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø—É—Å–∫–∞–ª —Å–∫—Ä–∏–ø—Ç —Å —Ñ–ª–∞–≥–æ–º `--no-details` (–±–µ–∑ –æ–±–æ–≥–∞—â–µ–Ω–∏—è)
- ‚úÖ **–ü—Ä–∏—á–∏–Ω–∞:** 84% –¥–∞–Ω–Ω—ã—Ö –±—ã–ª–∏ —Å–æ–±—Ä–∞–Ω—ã –ë–ï–ó –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –ø–æ –∫–æ–º–∞–Ω–¥–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### –®–∞–≥ 1: –ë—ç–∫–∞–ø —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö
```bash
mv cache/apartments_cache.csv cache/apartments_cache_old.csv
```

### –®–∞–≥ 2: –ü–µ—Ä–µ—Å–±–æ—Ä —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
```bash
python main.py scrape -p 3
```

### –®–∞–≥ 3: –†–µ–∑—É–ª—å—Ç–∞—Ç—ã
```
‚úì –í—Å–µ–≥–æ –∑–∞–ø–∏—Å–µ–π: 149
‚úì –° –æ–ø–∏—Å–∞–Ω–∏–µ–º: 149 (100.0%)
‚úì –° —Ç–µ–≥–∞–º–∏: 149 (100.0%)
‚úì –° —ç—Ç–∞–∂–æ–º: 149 (100.0%)
‚úì –° —Ñ–æ—Ç–æ: 149 (100.0%)
```

## üìä –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –î–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
- **–°–∫–æ—Ä–æ—Å—Ç—å:** ~90 —Å–µ–∫—É–Ω–¥ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É
- **–û–±—Ä–∞–±–æ—Ç–∫–∞:** –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è

### –ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
- **–°–∫–æ—Ä–æ—Å—Ç—å:** ~8 —Å–µ–∫—É–Ω–¥ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É
- **–û–±—Ä–∞–±–æ—Ç–∫–∞:** –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è (asyncio.gather)
- **–£–ª—É—á—à–µ–Ω–∏–µ:** **10x –±—ã—Å—Ç—Ä–µ–µ** üöÄ

### –ú–µ—Ç—Ä–∏–∫–∏ –Ω–æ–≤–æ–≥–æ —Å–±–æ—Ä–∞:
```
Starting scraper with aggression level: 5
Delay between requests: 2.00s - 2.20s
Fetch detailed info: True

Page 1: 51 apartments in ~6s
Page 2: 52 apartments in ~7s
Page 3: 52 apartments in ~6s

Total: 155 apartments from 4 pages in ~31s
```

## üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–æ–±—Ä–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

```
          Cache Statistics           
‚îè‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚î≥‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îì
‚îÉ Metric           ‚îÉ Value          ‚îÉ
‚î°‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚ïá‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚î©
‚îÇ Total Apartments ‚îÇ 149            ‚îÇ
‚îÇ Average Price    ‚îÇ 33172.30 UAH   ‚îÇ
‚îÇ Min Price        ‚îÇ 2500.00 UAH    ‚îÇ
‚îÇ Max Price        ‚îÇ 1444837.00 UAH ‚îÇ
‚îÇ Unique Locations ‚îÇ 8              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## üîß –í–Ω–µ—Å—ë–Ω–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### 1. –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ (—É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
```python
# –í–º–µ—Å—Ç–æ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–≥–æ:
for apt in apartments:
    enriched = await self.enrich_apartment_data(apt)

# –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ:
tasks = [self.enrich_apartment_data(apt) for apt in apartments]
apartments = await asyncio.gather(*tasks)
```

### 2. –ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ (—É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
```python
async def save_page_callback(apartments, page_num):
    self.cache_manager.save_apartments(apartments, append=True)
```

### 3. –ì–∞—Ä–∞–Ω—Ç–∏—è –∑–∞–ø–∏—Å–∏ –Ω–∞ –¥–∏—Å–∫ (—É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
```python
os.fsync(f.fileno())  # –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –∑–∞–ø–∏—Å—å –Ω–∞ –¥–∏—Å–∫
```

## ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–≤—ã—Ö 3 –∑–∞–ø–∏—Å–µ–π:
```
–ó–∞–ø–∏—Å—å #1: –°–¥–∞–º 2—Ö –∫—ñ–º–Ω –ø—Ä –ù–∞—É–∫–∏...
  ‚úì –û–ø–∏—Å–∞–Ω–∏–µ: –î–ê
  ‚úì –≠—Ç–∞–∂: 3
  ‚úì –í—Å–µ–≥–æ —ç—Ç–∞–∂–µ–π: 5
  ‚úì –¢–µ–≥–∏: ["–ë—ñ–∑–Ω–µ—Å", "–ü–æ–≤–µ—Ä—Ö: 3", ...]

–ó–∞–ø–∏—Å—å #2: –ê—Ä–µ–Ω–¥–∞ 2–∫ –∫–≤–∞—Ä—Ç–∏—Ä—ã –≤ –Ω–æ–≤–æ—Å—Ç—Ä–æ–π...
  ‚úì –û–ø–∏—Å–∞–Ω–∏–µ: –î–ê
  ‚úì –≠—Ç–∞–∂: 6
  ‚úì –í—Å–µ–≥–æ —ç—Ç–∞–∂–µ–π: 12
  ‚úì –¢–µ–≥–∏: ["–ë—ñ–∑–Ω–µ—Å", "–¢–∏–ø –±—É–¥–∏–Ω–∫—É: ...", ...]

–ó–∞–ø–∏—Å—å #3: –°–¥–∞–µ—Ç—Å—è 2—Ö. –∫–æ–º. –∫–≤–∞—Ä—Ç–∏—Ä–∞...
  ‚úì –û–ø–∏—Å–∞–Ω–∏–µ: –î–ê
  ‚úì –≠—Ç–∞–∂: 7
  ‚úì –í—Å–µ–≥–æ —ç—Ç–∞–∂–µ–π: 12
  ‚úì –¢–µ–≥–∏: ["–ë—ñ–∑–Ω–µ—Å", "–ì–æ—Ç–æ–≤–∏–π —Å–ø...", ...]
```

## üéâ –ò—Ç–æ–≥–∏

### ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. **–°–µ–ª–µ–∫—Ç–æ—Ä—ã** - –æ–±–Ω–æ–≤–ª–µ–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–∞ 100%
2. **–ü–∞—Ä—Å–∏–Ω–≥** - –∏–∑–≤–ª–µ–∫–∞–µ—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
3. **–û–±–æ–≥–∞—â–µ–Ω–∏–µ** - —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –∏ –±—ã—Å—Ç—Ä–æ
4. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ** - –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–æ–µ —Å –≥–∞—Ä–∞–Ω—Ç–∏–µ–π –∑–∞–ø–∏—Å–∏
5. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - 10x —É–ª—É—á—à–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏

### üìù –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:
1. **–í—Å–µ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞—Ç—å –ë–ï–ó —Ñ–ª–∞–≥–∞ `--no-details`** –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –æ–±–æ–≥–∞—â–µ–Ω–∏—è
2. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `-a` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–∫–æ—Ä–æ—Å—Ç—å—é** (1-10, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 5)
3. **–ü—Ä–æ–≤–µ—Ä—è—Ç—å —Ñ–ª–∞–≥ `enrich_data=True`** –≤ –ª–æ–≥–∞—Ö –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
4. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `--new-only`** –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ –Ω–æ–≤—ã—Ö –∑–∞–ø–∏—Å–µ–π

### üöÄ –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã:
```bash
# –ü–æ–ª–Ω—ã–π —Å–±–æ—Ä —Å –æ–±–æ–≥–∞—â–µ–Ω–∏–µ–º (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
python main.py scrape -p 10

# –ë—ã—Å—Ç—Ä—ã–π —Å–±–æ—Ä (–∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º)
python main.py scrape -p 5 -a 8

# –¢–æ–ª—å–∫–æ –Ω–æ–≤—ã–µ –∑–∞–ø–∏—Å–∏
python main.py scrape -n

# –ë–µ–∑ –æ–±–æ–≥–∞—â–µ–Ω–∏—è (–±—ã—Å—Ç—Ä–æ, –Ω–æ –Ω–µ–ø–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)
python main.py scrape --no-details

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
python main.py stats
```

---

**–ü—Ä–æ–±–ª–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ—à–µ–Ω–∞!** üéä
